<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="uk.sky.cqlmigrate.CqlMigratorImplTest" tests="27" skipped="0" failures="0" errors="0" timestamp="2017-09-01T07:03:52" hostname="mirek-HP-Pavilion-g6-Notebook-PC" time="80.414">
  <properties/>
  <testcase name="shouldRemoveLockAfterMigration" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.719"/>
  <testcase name="shouldThrowExceptionWhenMultipleBootstrap" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.116"/>
  <testcase name="shouldNotLoadAnyCqlFilesInSubDirectories" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.679"/>
  <testcase name="shouldRunTheBootstrapCqlIfKeyspaceDoesNotExist" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.387"/>
  <testcase name="shouldThrowExceptionWithAppropriateMessageIfKeyspaceNotSetForMain" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="0.673"/>
  <testcase name="shouldFailSilentlyIfCleaningANonExistingKeyspace" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.286"/>
  <testcase name="shouldLoadCqlFilesInOrderAcrossDirectoriesForMain" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.164"/>
  <testcase name="shouldCopeWithLongAndComplexCqlValues" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.934"/>
  <testcase name="shouldThrowCannotAcquireLockExceptionIfLockCannotBeAcquiredAfterTimeout" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.636"/>
  <testcase name="shouldLoadCqlFilesInOrderAcrossDirectories" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.18"/>
  <testcase name="shouldRetryWhenAcquiringLockIfNotInitiallyAvailable" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.968"/>
  <testcase name="canAddNewFilesWhenOldFilesHaveAlreadyBeenApplied" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="6.184"/>
  <testcase name="shouldCleanAKeyspaceOnACassandraSession" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.616"/>
  <testcase name="shouldThrowExceptionWithAppropriateMessageIfHostsNotSetForMain" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="0.043"/>
  <testcase name="shouldNotRemoveLockAfterMigrationFailed" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.323"/>
  <testcase name="shouldThrowExceptionWithAppropriateMessageIfDirectoriesNotSetForMain" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="0.071"/>
  <testcase name="shouldMigrateSchemaIfLockCanBeAcquired" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.524"/>
  <testcase name="schemaUpdatesTableByPassingCassandraSession" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="1.665"/>
  <testcase name="shouldFailWhenFileContentsChangeForAPreviouslyAppliedCqlFile" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="5.911"/>
  <testcase name="shouldRemoveLockAfterMigrationFailedIfUnlockOnFailureIsSetToTrue" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.045"/>
  <testcase name="shouldNotLoadAnyOfTheCqlFilesIfThereAreDuplicateCqlFilenames" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.321"/>
  <testcase name="schemaUpdatesTableShouldContainTheDateEachFileWasApplied" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.134"/>
  <testcase name="shouldRemoveAllDataWhenCleaningAKeyspace" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="7.254"/>
  <testcase name="shouldThrowExceptionForInvalidBootstrap" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.331"/>
  <testcase name="shouldCopeWithEscapedSingleQuotes" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.647"/>
  <testcase name="shouldFailIfThereAreDuplicateCqlFilenames" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="3.262"/>
  <testcase name="shouldThrowExceptionForBootstrapWithMissingSemiColon" classname="uk.sky.cqlmigrate.CqlMigratorImplTest" time="2.329"/>
  <system-out><![CDATA[08:03:52.132 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:03:52.153 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:03:52.153 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:03:52.158 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:03:52.203 [SharedPool-Worker-8] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@36ee4b93[cfId=b61acea0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate,cfName=locks,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [client]],partitionKeyColumns=[ColumnDefinition{name=name, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=client, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=name, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:03:52.312 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate.locks
08:03:52.325 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:03:52.342 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:03:52.342 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:03:52.359 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:03:52.365 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap]
08:03:52.365 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap/bootstrap.cql at consistency level ALL
08:03:52.366 [SharedPool-Worker-10] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:03:52.408 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:03:52.410 [SharedPool-Worker-11] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@32888cbb[cfId=b63a8ba0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:03:52.558 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:03:52.571 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:03:52.578 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249432578
08:03:54.877 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:03:55.662 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:03:55.684 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:03:55.684 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:03:55.690 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:03:55.696 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap, /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap_duplicate]
08:03:55.697 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Not releasing the lock for name 'cqlmigrate_test.schema_migration' and client id 'e84bfb12-b136-4797-9890-63d7c8a99064' due to failure (use LockConfig.unlockOnFailure() to change that behavior)
08:03:57.997 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:03:58.021 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:03:58.021 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:03:58.026 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:03:58.032 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_sub_directories]
08:03:58.032 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_sub_directories/bootstrap.cql at consistency level ALL
08:03:58.033 [SharedPool-Worker-9] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:03:58.108 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:03:58.112 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@2b99f18e[cfId=b9a072f0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:03:58.230 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:03:58.242 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@33bc11bb[cfId=b9b44910-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:03:58.364 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:03:58.376 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:56-create-status-table.cql
08:03:58.376 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:03:58.382 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249438382
08:04:00.673 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:01.562 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:01.584 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:01.585 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:01.591 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:01.596 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap]
08:04:01.596 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap/bootstrap.cql at consistency level ALL
08:04:01.597 [SharedPool-Worker-9] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:01.657 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:01.660 [SharedPool-Worker-11] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@6cd6e0eb[cfId=bbbdd4b0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:01.753 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:01.762 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:01.766 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249441766
08:04:04.060 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:04.738 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:04.762 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:04.762 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:04.766 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Cleaned cqlmigrate_test
08:04:07.023 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:07.051 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:07.051 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:07.057 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id '93d6973d-3095-41d5-aa52-2b8eec0d050b'
08:04:07.061 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two]
08:04:07.062 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one/bootstrap.cql at consistency level ALL
08:04:07.063 [SharedPool-Worker-14] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:07.104 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:07.107 [SharedPool-Worker-11] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@1553fa82[cfId=befcfa20-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:07.211 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:07.227 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@198c14ff[cfId=bf0f70b0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:07.387 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:04:07.400 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:56-create-status-table.cql
08:04:07.407 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@16b14bb1[cfId=bf0f70b0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@5455c09[cfId=bf0f70b0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:07.539 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:57-add-column-to-status-table.cql
08:04:07.545 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@16b14bb1[cfId=bf0f70b0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@2d976d03[cfId=bf0f70b0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249447544000}},triggers=[],indexes=[]]
08:04:07.719 [SharedPool-Worker-8] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@16b14bb1[cfId=bf0f70b0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249447544000}},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@1e3f58d[cfId=bf0f70b0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249447544000}},triggers=[],indexes=[]]
08:04:07.876 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:58-change-waste-of-space-column-to-text.cql
08:04:07.882 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:59-add-reference-data-to-status-table.cql
08:04:07.882 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id '93d6973d-3095-41d5-aa52-2b8eec0d050b'
08:04:07.887 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client 93d6973d-3095-41d5-aa52-2b8eec0d050b at: 1504249447887
08:04:10.184 [SharedPool-Worker-3] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:11.399 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:11.420 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:11.420 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:11.429 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id '7e35f97b-191f-4733-aa4d-fcb41d8a65e1'
08:04:11.434 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_rolegraphs_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_rolegraphs_three]
08:04:11.435 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_rolegraphs_one/bootstrap.cql at consistency level ALL
08:04:11.436 [SharedPool-Worker-11] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:11.485 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:11.488 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@65f8e3ee[cfId=c19976f0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:11.627 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:11.642 [SharedPool-Worker-3] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@516f069f[cfId=c1b11da0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=role_graphs,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [graphml]],partitionKeyColumns=[ColumnDefinition{name=provider, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=provider, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=graphml, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:11.751 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.role_graphs
08:04:11.760 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-08-16_02-create-graph-table.cql
08:04:11.766 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-08-16-12:00-semicolon-in-string.cql
08:04:11.814 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-12-31-12:00-long-cql-value.cql
08:04:11.814 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id '7e35f97b-191f-4733-aa4d-fcb41d8a65e1'
08:04:11.818 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client 7e35f97b-191f-4733-aa4d-fcb41d8a65e1 at: 1504249451818
08:04:14.123 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:15.110 [pool-287-thread-1] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:15.124 [pool-287-thread-1] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:15.124 [pool-287-thread-1] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:15.129 [pool-287-thread-1] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'bcc31478-56e7-4036-86ac-4a31f18f3eed'
08:04:15.133 [pool-287-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock currently held by Row[false, cqlmigrate_test.schema_migration, 03eb33cd-c468-46c1-9e69-7bbf26bb7de4]
08:04:15.186 [pool-287-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock currently held by Row[false, cqlmigrate_test.schema_migration, 03eb33cd-c468-46c1-9e69-7bbf26bb7de4]
08:04:15.239 [pool-287-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock currently held by Row[false, cqlmigrate_test.schema_migration, 03eb33cd-c468-46c1-9e69-7bbf26bb7de4]
08:04:15.294 [pool-287-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock currently held by Row[false, cqlmigrate_test.schema_migration, 03eb33cd-c468-46c1-9e69-7bbf26bb7de4]
08:04:15.349 [pool-287-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock currently held by Row[false, cqlmigrate_test.schema_migration, 03eb33cd-c468-46c1-9e69-7bbf26bb7de4]
08:04:15.405 [pool-287-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock currently held by Row[false, cqlmigrate_test.schema_migration, 03eb33cd-c468-46c1-9e69-7bbf26bb7de4]
08:04:15.461 [pool-287-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock currently held by Row[false, cqlmigrate_test.schema_migration, 03eb33cd-c468-46c1-9e69-7bbf26bb7de4]
08:04:15.462 [pool-287-thread-1] WARN  uk.sky.cqlmigrate.Lock - Unable to acquire lock for bcc31478-56e7-4036-86ac-4a31f18f3eed
java.util.concurrent.TimeoutException: Timed out after waiting 332 ms, with timeout 300 ms
	at uk.sky.cqlmigrate.RetryTask.untilSuccess(RetryTask.java:28) ~[main/:na]
	at uk.sky.cqlmigrate.Lock.lock(Lock.java:47) ~[main/:na]
	at uk.sky.cqlmigrate.CqlMigratorImpl.migrate(CqlMigratorImpl.java:81) [main/:na]
	at uk.sky.cqlmigrate.CqlMigratorImpl.migrate(CqlMigratorImpl.java:67) [main/:na]
	at uk.sky.cqlmigrate.CqlMigratorImplTest.lambda$shouldThrowCannotAcquireLockExceptionIfLockCannotBeAcquiredAfterTimeout$0(CqlMigratorImplTest.java:113) [test/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_144]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_144]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_144]
08:04:17.762 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:17.781 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:17.781 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:17.791 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:17.795 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two]
08:04:17.796 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one/bootstrap.cql at consistency level ALL
08:04:17.797 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:17.842 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:17.844 [SharedPool-Worker-11] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@6df72854[cfId=c5637740-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:17.994 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:18.008 [SharedPool-Worker-5] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@7710bb8d[cfId=c57c2f60-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:18.117 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:04:18.140 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:56-create-status-table.cql
08:04:18.143 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@7f85526b[cfId=c57c2f60-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@5c7411c6[cfId=c57c2f60-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:18.307 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:57-add-column-to-status-table.cql
08:04:18.311 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@7f85526b[cfId=c57c2f60-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@2afc385d[cfId=c57c2f60-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249458309000}},triggers=[],indexes=[]]
08:04:18.488 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@7f85526b[cfId=c57c2f60-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249458309000}},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@72069b82[cfId=c57c2f60-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249458309000}},triggers=[],indexes=[]]
08:04:18.626 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:58-change-waste-of-space-column-to-text.cql
08:04:18.635 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:59-add-reference-data-to-status-table.cql
08:04:18.635 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:18.638 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249458638
08:04:20.940 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:21.905 [pool-303-thread-1] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:21.921 [pool-303-thread-1] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:21.921 [pool-303-thread-1] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:21.926 [pool-303-thread-1] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:21.929 [pool-303-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock currently held by Row[false, cqlmigrate_test.schema_migration, 4537b805-34c2-4d13-9bda-be1f25f5a994]
08:04:22.438 [pool-303-thread-1] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap]
08:04:22.439 [pool-303-thread-1] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap/bootstrap.cql at consistency level ALL
08:04:22.441 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:22.489 [pool-303-thread-1] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:22.492 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@46e0087b[cfId=c8288ab0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:22.596 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:22.607 [pool-303-thread-1] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:22.612 [pool-303-thread-1] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249462612
08:04:24.908 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:25.700 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:25.717 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:25.718 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:25.727 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:25.731 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two]
08:04:25.732 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one/bootstrap.cql at consistency level ALL
08:04:25.733 [SharedPool-Worker-8] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:25.788 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:25.790 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@5273f120[cfId=ca1fc6d0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:25.895 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:25.909 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@6f75c617[cfId=ca321650-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:26.060 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:04:26.069 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:56-create-status-table.cql
08:04:26.072 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@2a040c63[cfId=ca321650-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@14b76483[cfId=ca321650-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:26.169 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:57-add-column-to-status-table.cql
08:04:26.171 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@2a040c63[cfId=ca321650-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@a302dd6[cfId=ca321650-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249466171000}},triggers=[],indexes=[]]
08:04:26.367 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@2a040c63[cfId=ca321650-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249466171000}},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@31e40305[cfId=ca321650-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249466171000}},triggers=[],indexes=[]]
08:04:26.522 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:58-change-waste-of-space-column-to-text.cql
08:04:26.526 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:59-add-reference-data-to-status-table.cql
08:04:26.526 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:26.530 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249466530
08:04:28.736 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:28.760 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:28.761 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:28.766 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:28.770 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_three]
08:04:28.770 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace found, not applying bootstrap.cql
08:04:28.773 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Skipped: 2015-04-01-13:56-create-status-table.cql
08:04:28.775 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Skipped: 2015-04-01-13:57-add-column-to-status-table.cql
08:04:28.777 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Skipped: 2015-04-01-13:58-change-waste-of-space-column-to-text.cql
08:04:28.780 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Skipped: 2015-04-01-13:59-add-reference-data-to-status-table.cql
08:04:28.784 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-02-12:59-fix-reference-data-in-status-table.cql
08:04:28.784 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:28.788 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249468788
08:04:31.093 [SharedPool-Worker-3] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:31.887 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:31.893 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two]
08:04:31.893 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one/bootstrap.cql at consistency level ALL
08:04:31.894 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:31.931 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:31.933 [SharedPool-Worker-7] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@13bc2837[cfId=cdc946d0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:32.064 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:32.073 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@e4a402c[cfId=cddea390-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:32.209 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:04:32.221 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:56-create-status-table.cql
08:04:32.226 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@651b407[cfId=cddea390-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@5abb0766[cfId=cddea390-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:32.340 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:57-add-column-to-status-table.cql
08:04:32.345 [SharedPool-Worker-8] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@651b407[cfId=cddea390-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@5244dfec[cfId=cddea390-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249472343000}},triggers=[],indexes=[]]
08:04:32.547 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@651b407[cfId=cddea390-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249472343000}},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@478e7ea0[cfId=cddea390-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249472343000}},triggers=[],indexes=[]]
08:04:32.663 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:58-change-waste-of-space-column-to-text.cql
08:04:32.667 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:59-add-reference-data-to-status-table.cql
08:04:32.667 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:32.670 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249472670
08:04:32.670 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:33.624 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Cleaned cqlmigrate_test
08:04:33.755 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:33.770 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:33.770 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:33.774 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:33.779 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap_missing_semicolon]
08:04:33.779 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap_missing_semicolon/bootstrap.cql at consistency level ALL
08:04:33.780 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Not releasing the lock for name 'cqlmigrate_test.schema_migration' and client id 'e84bfb12-b136-4797-9890-63d7c8a99064' due to failure (use LockConfig.unlockOnFailure() to change that behavior)
08:04:36.150 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:36.163 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:36.163 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:36.167 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:36.171 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap]
08:04:36.172 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap/bootstrap.cql at consistency level ALL
08:04:36.172 [SharedPool-Worker-7] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:36.215 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:36.217 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@3cc52cdf[cfId=d056cf80-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:36.357 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:36.365 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:36.370 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249476370
08:04:38.671 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:39.463 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:39.469 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two]
08:04:39.469 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one/bootstrap.cql at consistency level ALL
08:04:39.470 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:39.511 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:39.512 [SharedPool-Worker-7] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@1b8cf5c0[cfId=d24dbd80-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:39.648 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:39.660 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@631374e3[cfId=d2642bb0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:39.776 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:04:39.785 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:56-create-status-table.cql
08:04:39.788 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@706b1f11[cfId=d2642bb0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@41db9a85[cfId=d2642bb0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:39.943 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:57-add-column-to-status-table.cql
08:04:39.945 [SharedPool-Worker-5] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@706b1f11[cfId=d2642bb0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@2510e46f[cfId=d2642bb0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249479945000}},triggers=[],indexes=[]]
08:04:40.093 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@706b1f11[cfId=d2642bb0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249479945000}},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@a5311b3[cfId=d2642bb0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249479945000}},triggers=[],indexes=[]]
08:04:40.218 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:58-change-waste-of-space-column-to-text.cql
08:04:40.223 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:59-add-reference-data-to-status-table.cql
08:04:40.223 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:40.228 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249480228
08:04:40.337 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:41.335 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:41.346 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:41.346 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:41.354 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:41.357 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap, /home/mirek/git/cqlmigrate/build/resources/test/cql_create_status]
08:04:41.357 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap/bootstrap.cql at consistency level ALL
08:04:41.358 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:41.396 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:41.398 [SharedPool-Worker-10] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@3c8e9cb8[cfId=d36d5e50-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:41.540 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:41.553 [SharedPool-Worker-3] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@5f95e8ae[cfId=d3852c10-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:41.694 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:04:41.703 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-02-14:36-create-status-table.cql
08:04:41.703 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:41.707 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249481707
08:04:43.914 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:43.934 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:43.934 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:43.946 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:43.949 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_create_status_different_contents]
08:04:43.950 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace found, not applying bootstrap.cql
08:04:43.953 [Test worker] ERROR uk.sky.cqlmigrate.SchemaLoader - Contents have changed: 2015-04-02-14:36-create-status-table.cql
08:04:43.953 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Not releasing the lock for name 'cqlmigrate_test.schema_migration' and client id 'e84bfb12-b136-4797-9890-63d7c8a99064' due to failure (use LockConfig.unlockOnFailure() to change that behavior)
08:04:46.248 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:46.972 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:46.983 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:46.983 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:46.991 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'f82c931a-2552-489e-aa56-6de7d841cb1f'
08:04:46.994 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap_missing_semicolon]
08:04:46.995 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap_missing_semicolon/bootstrap.cql at consistency level ALL
08:04:46.995 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'f82c931a-2552-489e-aa56-6de7d841cb1f'
08:04:46.999 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client f82c931a-2552-489e-aa56-6de7d841cb1f at: 1504249486999
08:04:49.296 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:49.313 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:49.314 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:49.319 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:49.323 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_duplicate_filename]
08:04:49.324 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Not releasing the lock for name 'cqlmigrate_test.schema_migration' and client id 'e84bfb12-b136-4797-9890-63d7c8a99064' due to failure (use LockConfig.unlockOnFailure() to change that behavior)
08:04:51.618 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:51.635 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:51.635 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:51.642 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:51.647 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two]
08:04:51.647 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one/bootstrap.cql at consistency level ALL
08:04:51.649 [SharedPool-Worker-7] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:51.693 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:51.695 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@5875e031[cfId=d99090e0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:51.865 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:51.878 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@4762cb55[cfId=d9ac7d50-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:52.003 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:04:52.013 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:56-create-status-table.cql
08:04:52.017 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@80b6d3f[cfId=d9ac7d50-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@3421f6bc[cfId=d9ac7d50-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:52.151 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:57-add-column-to-status-table.cql
08:04:52.154 [SharedPool-Worker-5] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@80b6d3f[cfId=d9ac7d50-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@2d95ea3b[cfId=d9ac7d50-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249492154000}},triggers=[],indexes=[]]
08:04:52.321 [SharedPool-Worker-5] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@80b6d3f[cfId=d9ac7d50-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249492154000}},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@6dac11c8[cfId=d9ac7d50-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249492154000}},triggers=[],indexes=[]]
08:04:52.442 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:58-change-waste-of-space-column-to-text.cql
08:04:52.447 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:59-add-reference-data-to-status-table.cql
08:04:52.447 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:52.452 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249492452
08:04:54.748 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:55.686 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:55.710 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:55.711 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:55.717 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:55.724 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two]
08:04:55.725 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one/bootstrap.cql at consistency level ALL
08:04:55.726 [SharedPool-Worker-11] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:04:55.773 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:04:55.775 [SharedPool-Worker-8] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@480d8f80[cfId=dbff46f0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:04:55.948 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:04:55.961 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@64f4bbac[cfId=dc1b8180-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:56.088 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.status
08:04:56.097 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:56-create-status-table.cql
08:04:56.101 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@44887e82[cfId=dc1b8180-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@3189a149[cfId=dc1b8180-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:04:56.273 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:57-add-column-to-status-table.cql
08:04:56.277 [SharedPool-Worker-3] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@44887e82[cfId=dc1b8180-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@5f26296b[cfId=dc1b8180-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249496276000}},triggers=[],indexes=[]]
08:04:56.410 [SharedPool-Worker-1] INFO  o.a.c.service.MigrationManager - Update table 'cqlmigrate_test/status' From org.apache.cassandra.config.CFMetaData@44887e82[cfId=dc1b8180-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249496276000}},triggers=[],indexes=[]] To org.apache.cassandra.config.CFMetaData@787ac447[cfId=dc1b8180-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=status,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={max_threshold=32, min_threshold=4}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [last_check last_status waste_of_space]],partitionKeyColumns=[ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=waste_of_space, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=dependency, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=last_status, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=last_check, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}],droppedColumns={java.nio.HeapByteBuffer[pos=0 lim=14 cap=14]=DroppedColumn{name=waste_of_space, type=org.apache.cassandra.db.marshal.DoubleType, droppedTime=1504249496276000}},triggers=[],indexes=[]]
08:04:56.586 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:58-change-waste-of-space-column-to-text.cql
08:04:56.589 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-01-13:59-add-reference-data-to-status-table.cql
08:04:56.589 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:04:56.593 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client e84bfb12-b136-4797-9890-63d7c8a99064 at: 1504249496592
08:04:58.799 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:04:58.815 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:04:58.816 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:04:58.820 [SharedPool-Worker-6] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:04:59.742 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Cleaned cqlmigrate_test
08:05:02.007 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:05:02.025 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:05:02.025 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:05:02.029 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:05:02.034 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_invalid_bootstrap]
08:05:02.035 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_invalid_bootstrap/bootstrap.cql at consistency level ALL
08:05:02.041 [Test worker] ERROR uk.sky.cqlmigrate.CqlLoader - Failed to execute cql statements [sdfgsdfgdf gzs]: line 1:0 no viable alternative at input 'sdfgsdfgdf' ([sdfgsdfgdf]...)
08:05:02.042 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Not releasing the lock for name 'cqlmigrate_test.schema_migration' and client id 'e84bfb12-b136-4797-9890-63d7c8a99064' due to failure (use LockConfig.unlockOnFailure() to change that behavior)
08:05:04.338 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:05:04.355 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:05:04.356 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:05:04.360 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'd7dea9e0-0d4c-470e-8fcc-b6e182e88a3b'
08:05:04.365 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_rolegraphs_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_rolegraphs_two]
08:05:04.365 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_rolegraphs_one/bootstrap.cql at consistency level ALL
08:05:04.366 [SharedPool-Worker-8] INFO  o.a.c.service.MigrationManager - Create new Keyspace: KeyspaceMetadata{name=cqlmigrate_test, params=KeyspaceParams{durable_writes=true, replication=ReplicationParams{class=org.apache.cassandra.locator.SimpleStrategy, replication_factor=1}}, tables=[], views=[], functions=[], types=[]}
08:05:04.414 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Applied: bootstrap.cql
08:05:04.416 [SharedPool-Worker-8] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@6e50a0bd[cfId=e125a2f0-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=schema_updates,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [applied_on checksum]],partitionKeyColumns=[ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=applied_on, type=org.apache.cassandra.db.marshal.TimestampType, kind=REGULAR, position=-1}, ColumnDefinition{name=checksum, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}, ColumnDefinition{name=filename, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],droppedColumns={},triggers=[],indexes=[]]
08:05:04.515 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.schema_updates
08:05:04.529 [SharedPool-Worker-4] INFO  o.a.c.service.MigrationManager - Create new table: org.apache.cassandra.config.CFMetaData@5f7f894c[cfId=e136e100-8ee3-11e7-b84e-77cbe2e401e6,ksName=cqlmigrate_test,cfName=role_graphs,flags=[COMPOUND],params=TableParams{comment=, read_repair_chance=0.0, dclocal_read_repair_chance=0.1, bloom_filter_fp_chance=0.01, crc_check_chance=1.0, gc_grace_seconds=864000, default_time_to_live=0, memtable_flush_period_in_ms=0, min_index_interval=128, max_index_interval=2048, speculative_retry=99PERCENTILE, caching={'keys' : 'ALL', 'rows_per_partition' : 'NONE'}, compaction=CompactionParams{class=org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy, options={min_threshold=4, max_threshold=32}}, compression=org.apache.cassandra.schema.CompressionParams@4bba6907, extensions={}},comparator=comparator(),partitionColumns=[[] | [graphml]],partitionKeyColumns=[ColumnDefinition{name=provider, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}],clusteringColumns=[],keyValidator=org.apache.cassandra.db.marshal.UTF8Type,columnMetadata=[ColumnDefinition{name=provider, type=org.apache.cassandra.db.marshal.UTF8Type, kind=PARTITION_KEY, position=0}, ColumnDefinition{name=graphml, type=org.apache.cassandra.db.marshal.UTF8Type, kind=REGULAR, position=-1}],droppedColumns={},triggers=[],indexes=[]]
08:05:04.663 [MigrationStage:1] INFO  o.a.cassandra.db.ColumnFamilyStore - Initializing cqlmigrate_test.role_graphs
08:05:04.672 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-04-08-16_02-create-graph-table.cql
08:05:04.677 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-08-16-12:00-semicolon-in-string.cql
08:05:04.681 [Test worker] INFO  uk.sky.cqlmigrate.SchemaLoader - Applied: 2015-09-15-12:00-escaped-single-quotes-in-string.cql
08:05:04.681 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to release lock for 'cqlmigrate_test.schema_migration', using client id 'd7dea9e0-0d4c-470e-8fcc-b6e182e88a3b'
08:05:04.684 [Test worker] INFO  u.s.c.CassandraLockingMechanism - Lock released for cqlmigrate_test.schema_migration by client d7dea9e0-0d4c-470e-8fcc-b6e182e88a3b at: 1504249504684
08:05:06.980 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate_test'
08:05:07.924 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:05:07.943 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:05:07.943 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:05:07.947 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:05:07.951 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_valid_one, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_two, /home/mirek/git/cqlmigrate/build/resources/test/cql_valid_duplicate_filename]
08:05:07.951 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Not releasing the lock for name 'cqlmigrate_test.schema_migration' and client id 'e84bfb12-b136-4797-9890-63d7c8a99064' due to failure (use LockConfig.unlockOnFailure() to change that behavior)
08:05:10.247 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:05:10.261 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:05:10.261 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
08:05:10.269 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Attempting to acquire lock for 'cqlmigrate_test.schema_migration', using client id 'e84bfb12-b136-4797-9890-63d7c8a99064'
08:05:10.274 [Test worker] INFO  uk.sky.cqlmigrate.CqlMigratorImpl - Loading cql files from [/home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap_missing_semicolon]
08:05:10.274 [Test worker] INFO  u.s.cqlmigrate.KeyspaceBootstrapper - Keyspace not found, applying /home/mirek/git/cqlmigrate/build/resources/test/cql_bootstrap_missing_semicolon/bootstrap.cql at consistency level ALL
08:05:10.274 [Test worker] INFO  uk.sky.cqlmigrate.Lock - Not releasing the lock for name 'cqlmigrate_test.schema_migration' and client id 'e84bfb12-b136-4797-9890-63d7c8a99064' due to failure (use LockConfig.unlockOnFailure() to change that behavior)
08:05:12.572 [SharedPool-Worker-2] INFO  o.a.c.service.MigrationManager - Drop Keyspace 'cqlmigrate'
08:05:15.554 [Test worker] INFO  c.datastax.driver.core.ClockFactory - Using native clock to generate timestamps.
08:05:15.571 [Test worker] INFO  c.d.d.c.p.DCAwareRoundRobinPolicy - Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
08:05:15.571 [Test worker] INFO  com.datastax.driver.core.Cluster - New Cassandra host localhost/127.0.0.1:35627 added
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
